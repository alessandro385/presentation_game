(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function r(){const t=document.querySelector(".snow-container"),e=50;for(let n=0;n<e;n++)l(t)}function l(t){const e=document.createElement("div");e.classList.add("snowflake");const n=Math.random()*5+2,c=Math.random()*window.innerWidth,o=Math.random()*3+2,i=Math.random()*.6+.4;Object.assign(e.style,{width:`${n}px`,height:`${n}px`,background:"white",borderRadius:"50%",position:"absolute",top:"-10px",left:`${c}px`,opacity:i,animation:`snowfall ${o}s linear infinite`}),t.appendChild(e)}function m(){window.openModal=u,window.closeModal=y,window.openDoubleModal=f,window.closeModals=a,document.addEventListener("click",t=>{t.target.classList.contains("modal-container")&&a()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&a()}),document.querySelectorAll(".bolt-screenshot").forEach(t=>{t.addEventListener("click",e=>{d(e.target.src,e.target.nextElementSibling.textContent)})}),document.querySelectorAll(".modal-screenshot").forEach(t=>{t.addEventListener("click",e=>{d(e.target.src,e.target.nextElementSibling.textContent)})})}function u(t){const e=document.getElementById("modals-container"),n=document.getElementById(t);e&&n&&(t==="bolt-modal"&&n.querySelectorAll(".bolt-screenshot").forEach(o=>{o.complete||(o.style.opacity="0",o.onload=()=>{o.style.opacity="1",o.style.transition="opacity 0.3s ease"})}),e.classList.add("active"),n.classList.add("active"),document.body.style.overflow="hidden")}function f(t,e){const n=document.getElementById("modals-container"),c=document.getElementById(t),o=document.getElementById(e);n&&c&&o&&(n.classList.add("active"),c.classList.add("active"),o.classList.add("active"),document.body.style.overflow="hidden")}function y(t){const e=document.getElementById("modals-container"),n=document.getElementById(t);e&&n&&(e.classList.remove("active"),n.classList.remove("active"),document.body.style.overflow="")}function a(){const t=document.getElementById("modals-container"),e=document.querySelectorAll(".modal");t&&(t.classList.remove("active"),e.forEach(n=>n.classList.remove("active")),document.body.style.overflow="")}function d(t,e){const n=document.createElement("div");n.className="image-viewer",n.innerHTML=`
        <div class="image-viewer-content">
            <div class="image-container">
                <img src="${t}" alt="Enlarged view">
            </div>
            <div class="description-container">
                <h3>Dettagli</h3>
                <p>${e}</p>
                <button class="close-viewer">Chiudi</button>
            </div>
        </div>
    `,document.body.appendChild(n),document.body.style.overflow="hidden",n.addEventListener("click",c=>{(c.target.classList.contains("image-viewer")||c.target.classList.contains("close-viewer"))&&(document.body.removeChild(n),document.body.style.overflow="")})}r();document.querySelector(".cta-button").addEventListener("click",t=>{t.preventDefault(),document.querySelector("#game-section").scrollIntoView({behavior:"smooth"})});function p(){const t=document.querySelector("#gameWrapper"),e=document.createElement("iframe");e.src="https://enchanting-pixie-b4c45e.netlify.app",e.style.width="800px",e.style.height="800px",e.style.border="none",e.style.borderRadius="5px",e.style.overflow="hidden",e.scrolling="no",t.appendChild(e)}document.addEventListener("DOMContentLoaded",()=>{r(),m(),p()});document.addEventListener("visibilitychange",()=>{document.hidden?console.log("Gioco in pausa"):console.log("Gioco ripreso")});
